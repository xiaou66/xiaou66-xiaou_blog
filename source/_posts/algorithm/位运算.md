---
title: 位运算
date: 2021/09/20 20:00
math: true
categories:
  - [algorithm]
tags:
  - [java]
---

# 位运算

## 基本操作

1. A ^ A = B ^ A;

2. A ^ (B ^ C) = (A ^ B) ^ C

3. A ^ 0 = A

4. A ^ A = 0

5. 判断两个值是否相等 A ^ B == 0?

6. 位数翻转

   > 0 ^ 1 = 1
   >
   > 1 ^ 1 = 0
   >
   > 比如: 翻转10100001第六位
   >
   > 10100001^00100000 = 10000001

7. 不占用额外空间进行交换

   :::warning

   两个数不能相等

   :::

   > a = a ^ b; 
   >
   > b = a ^ b; // a ^ b ^ b = a ^ (b ^ b) = a;
   >
   > a = a ^ b; // a ^ b ^ a = (a^a) ^ b = 0 ^ b = b;

8. num & (num - 1) // 将num(二进制)中最右边「1」变成「0」
9. num & ^(num - 1) // 提取num(二进制)中最右边的哪一位「1」,并将其他位变成「0」

### 有趣的位操作

1. 利用或操作 `|` 和空格将英文字符转换为小写

   ```java
   ('a' | ' ') = 'a'
   ('A' | ' ') = 'a'
   ```

2. 利用与操作 `&` 和下划线将英文字符转换为大写

   ```java
   ('b' & '_') = 'B'
   ('B' & '_') = 'B'
   ```

3. 利用异或操作 `^` 和空格进行英文字符大小写互换

    ```java
    ('d' ^ ' ') = 'D'
    ('D' ^ ' ') = 'd'
    ```

4. 判断两个数是否异号

   ```java
   int x = -1, y = 2;
   boolean f = ((x ^ y) < 0); // true
   
   int x = 3, y = 2;
   boolean f = ((x ^ y) < 0); // false
   ```



